# 남은 과제 목록

**작성일**: 2025-01-XX  
**프로젝트 상태**: Phase 2 대부분 완료, Phase 3 시작 단계

---

## 📊 현재 진행 상황

### ✅ 완료된 Phase

#### Phase 0: 준비 단계 ✅
- [x] 의존성 추가 (Spring AI, LangGraph4j)
- [x] 개발 환경 설정 (Java 17+, Gradle)
- [x] 기술 스택 학습

#### Phase 1: 요구사항 정의 및 설계 ✅
- [x] 에이전트 역할 정의
- [x] 필요한 Tools 정의
- [x] 제약사항 및 목표 정의
- [x] State 스키마 설계
- [x] Graph 설계
- [x] API 설계

#### Phase 2: 기본 코어 구현 (대부분 완료) ✅
- [x] 프로젝트 구조 설정
- [x] State 정의 (AgentState)
- [x] LLM 모델 설정 (Gemini)
- [x] 핵심 노드 구현
  - [x] InputNode
  - [x] LlmNode
  - [x] ConditionalNode
  - [x] ResponseNode
  - [x] ToolNode
- [x] Tool 구현
  - [x] CalculatorTool (완전 구현)
  - [x] SearchTool (구조만 구현, 실제 API 미연동)
  - [x] WeatherTool (구조만 구현, 실제 API 미연동)
- [x] Graph 구성 (AgentGraph)
- [x] REST API 구현 (AgentTestController)
- [x] 스트리밍 기능 일부 구현

---

## 🔴 남은 과제

### Phase 2: 기본 코어 구현 (미완료 항목)

#### 테스트 작성
- [ ] **단위 테스트 작성**
  - [ ] 각 노드 로직 테스트 (InputNode, LlmNode, ConditionalNode, ResponseNode, ToolNode)
  - [ ] State Reducer 테스트
  - [ ] 도구 실행 테스트 (CalculatorTool)
  
- [ ] **통합 테스트 작성**
  - [ ] 전체 Graph 실행 테스트
  - [ ] 에러 처리 테스트
  - [ ] 도구 연동 테스트
  
- [ ] **API 테스트**
  - [ ] REST 엔드포인트 테스트
  - [ ] 스트리밍 엔드포인트 테스트

---

### Phase 3: 고급 기능 추가

#### 비동기 및 스트리밍 지원
- [ ] **스트리밍 응답 완성**
  - [x] 기본 스트리밍 구조 구현됨 (AgentGraph.executeStreaming)
  - [ ] SSE 엔드포인트 완성 및 테스트
  - [ ] 중간 결과 전송 기능 개선
  - [ ] 스트리밍 에러 처리 강화

#### 체크포인트 & 브레이크포인트
- [ ] **상태 저장소 구현**
  - [ ] 메모리 기반 체크포인트 저장소
  - [ ] DB 기반 체크포인트 저장소 (선택사항)
  - [ ] Checkpoint 저장 및 복구 기능
  - [ ] 브레이크포인트를 통한 디버깅 지원
  - [ ] 장기 대화 세션 관리

#### 병렬 처리
- [ ] **병렬 노드 실행**
  - [ ] 여러 노드 병렬 실행 구현
  - [ ] Sub-graph 활용
  - [ ] 성능 최적화

#### 멀티 에이전트 아키텍처 (선택사항)
- [ ] 여러 에이전트 간 협업 구조
- [ ] Agent Handoff 구현
- [ ] 역할 분리 및 전문화

#### Observability (관측성)
- [ ] **로깅 강화**
  - [x] 기본 로깅 구현됨
  - [ ] 각 노드 실행 로그 상세화
  - [ ] 성능 메트릭 로깅
  
- [ ] **Tracing 구현**
  - [ ] Spring Cloud Sleuth 또는 Micrometer 통합
  - [ ] Graph 실행 추적
  
- [ ] **메트릭 수집**
  - [ ] Spring Boot Actuator 설정 완성
  - [ ] 커스텀 메트릭 추가
  
- [ ] **Graph 실행 시각화**
  - [ ] 실행 흐름 시각화 도구
  - [ ] 디버깅 대시보드

#### 에러 처리 및 복구
- [ ] **예외 처리 전략 수립**
  - [x] 기본 에러 처리 구현됨
  - [ ] Fallback 노드 구현
  - [ ] 재시도 로직 구현
  - [ ] 사용자 친화적 에러 메시지 개선

#### LangGraph4j Studio 연동 (선택사항)
- [ ] Spring Boot 기반 Studio 설정
- [ ] 워크플로우 시각화
- [ ] 디버깅 도구 활용

---

### Phase 4: 통합 및 외부 연동

#### Vector Store 연동 (RAG 구현 시)
- [ ] Spring AI Vector Store 설정
- [ ] 문서 임베딩 및 저장
- [ ] 검색 및 리트리벌 구현

#### 외부 API 통합
- [ ] **SearchTool 실제 API 연동**
  - [ ] Google Custom Search API 또는 Bing Search API 통합
  - [ ] 검색 결과 파싱 및 포맷팅
  - [ ] API 키 관리
  
- [ ] **WeatherTool 실제 API 연동**
  - [ ] OpenWeatherMap API 또는 WeatherAPI 통합
  - [ ] 날씨 데이터 파싱 및 포맷팅
  - [ ] API 키 관리
  
- [ ] **Webhook 연동**
  - [ ] 외부 시스템에서 에이전트 호출
  - [ ] 인증 및 보안 처리

#### 데이터베이스 연동
- [ ] **대화 히스토리 저장**
  - [ ] Spring Data JPA 설정
  - [ ] 대화 엔티티 설계
  - [ ] 히스토리 조회 API
  
- [ ] **사용자 정보 관리**
  - [ ] 사용자 엔티티 설계
  - [ ] 사용자별 세션 관리
  
- [ ] **상태 영속성**
  - [ ] Checkpoint DB 저장
  - [ ] 상태 복구 기능

#### 인증 및 보안
- [ ] **Spring Security 설정**
  - [ ] 기본 인증 설정
  - [ ] API 키 기반 인증
  - [ ] JWT 토큰 인증 (선택사항)
  
- [ ] **API 키 관리**
  - [ ] 환경 변수 기반 키 관리
  - [ ] 키 로테이션 기능
  
- [ ] **사용자 인증 및 권한 관리**
  - [ ] 사용자 역할 정의
  - [ ] 권한 기반 접근 제어
  
- [ ] **민감 정보 보호**
  - [ ] 입력 검증 및 sanitization 강화
  - [ ] 로깅에서 민감 정보 제거

#### API 문서화
- [ ] **SpringDoc OpenAPI (Swagger) 설정**
  - [ ] Swagger UI 설정
  - [ ] API 엔드포인트 문서화
  - [ ] 요청/응답 예제 작성
  - [ ] 사용 가이드 작성

---

### Phase 5: 배포 및 운영

#### 환경 설정
- [ ] **프로파일별 설정**
  - [ ] dev, staging, prod 프로파일 분리
  - [ ] 환경 변수 관리
  - [ ] 외부 설정 파일 분리

#### 컨테이너화
- [ ] **Dockerfile 작성**
  - [ ] 멀티 스테이지 빌드 최적화
  - [ ] 이미지 크기 최적화
  
- [ ] **Docker Compose 설정**
  - [ ] 로컬 개발용 설정
  - [ ] 의존 서비스 포함 (DB 등)

#### CI/CD 파이프라인
- [ ] **GitHub Actions 또는 GitLab CI 설정**
  - [ ] 자동 빌드 및 테스트
  - [ ] 자동 배포 스크립트
  - [ ] 릴리스 프로세스 정의

#### 모니터링 및 알림
- [ ] **로그 집계 설정**
  - [ ] ELK 스택 또는 CloudWatch 통합
  
- [ ] **메트릭 대시보드 구성**
  - [ ] Grafana 또는 CloudWatch 대시보드
  
- [ ] **알림 설정**
  - [ ] 에러 발생 시 알림
  - [ ] 성능 임계값 알림

#### 성능 테스트
- [ ] **부하 테스트**
  - [ ] JMeter 또는 Gatling 사용
  - [ ] 동시 사용자 테스트
  
- [ ] **레이텐시 측정**
  - [ ] 각 단계별 레이텐시 측정
  - [ ] 병목 지점 파악 및 최적화

#### 문서화
- [ ] **README 작성**
  - [x] 기본 README 작성됨
  - [ ] 배포 가이드 추가
  - [ ] 운영 매뉴얼 추가
  
- [ ] **아키텍처 문서**
  - [ ] 시스템 아키텍처 다이어그램
  - [ ] 데이터 흐름 다이어그램
  
- [ ] **배포 가이드**
  - [ ] 배포 절차 문서화
  - [ ] 롤백 절차 문서화
  
- [ ] **운영 매뉴얼**
  - [ ] 문제 해결 가이드
  - [ ] 모니터링 가이드

---

### Phase 6: 검증 및 개선

#### 테스트 커버리지 향상
- [ ] **단위 테스트 커버리지 80% 이상 목표**
  - [ ] 현재 커버리지 측정
  - [ ] 부족한 부분 테스트 작성
  
- [ ] **통합 테스트 강화**
  - [ ] 다양한 시나리오 테스트
  - [ ] 엣지 케이스 테스트
  
- [ ] **E2E 테스트 시나리오 작성**
  - [ ] 사용자 시나리오 기반 테스트
  - [ ] 자동화된 E2E 테스트

#### Spring AI Bench 활용 (선택사항)
- [ ] 벤치마크 테스트 실행
- [ ] 목표 지향 워크플로우 평가
- [ ] 성능 비교 및 개선

#### 사용자 피드백 수집
- [ ] 피드백 수집 메커니즘 구축
- [ ] 로그 분석을 통한 문제점 파악
- [ ] 개선 사항 반영

#### 기능 확장
- [ ] **추가 Tool 구현**
  - [ ] DatabaseTool
  - [ ] FileTool
  - [ ] 기타 유틸리티 도구
  
- [ ] **멀티모달 지원**
  - [ ] 이미지 입력 처리
  - [ ] 음성 입력 처리 (선택사항)
  
- [ ] **다국어 지원**
  - [ ] 다국어 응답 생성
  - [ ] 언어 감지 기능
  
- [ ] **고급 에이전트 패턴 적용**
  - [ ] ReAct 패턴
  - [ ] Plan-and-Execute 패턴

#### 코드 품질 개선
- [ ] **리팩토링**
  - [ ] 코드 중복 제거
  - [ ] 설계 패턴 적용
  
- [ ] **코드 리뷰**
  - [ ] 정기적인 코드 리뷰
  - [ ] 코드 품질 메트릭 개선
  
- [ ] **모듈화 및 재사용성 향상**
  - [ ] 공통 모듈 추출
  - [ ] 라이브러리화 고려

---

## 🎯 우선순위별 정리

### 높은 우선순위 (즉시 진행)
1. **Phase 2 테스트 작성** - 기본 기능 검증
2. **SearchTool/WeatherTool 실제 API 연동** - 핵심 기능 완성
3. **스트리밍 응답 완성** - 사용자 경험 개선
4. **에러 처리 강화** - 안정성 향상

### 중간 우선순위 (단기)
5. **체크포인트 기능 구현** - 장기 세션 지원
6. **Observability 강화** - 운영 편의성
7. **API 문서화 (Swagger)** - 개발자 경험 개선
8. **데이터베이스 연동** - 히스토리 관리

### 낮은 우선순위 (중장기)
9. **병렬 처리** - 성능 최적화
10. **Vector Store 연동** - RAG 기능
11. **CI/CD 파이프라인** - 배포 자동화
12. **컨테이너화** - 배포 표준화

---

## 📝 참고사항

- 현재 Phase 2의 기본 기능은 대부분 구현되어 있습니다.
- Spring AI Tool 통합은 완료되어 LLM이 자동으로 Tool을 호출합니다.
- 스트리밍 기능의 기본 구조는 구현되어 있으나 완성도가 필요합니다.
- SearchTool과 WeatherTool은 구조만 구현되어 있으며, 실제 API 연동이 필요합니다.
- 테스트 코드가 부족하므로 테스트 작성이 시급합니다.

---

**마지막 업데이트**: 2025-01-XX
