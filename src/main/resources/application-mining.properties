# ============================================
# Swagger UI 주소 (mining 프로파일)
# ============================================
# Swagger UI: https://mining.taxnet.co.kr/counsel-ai/swagger-ui.html
# API Docs (JSON): https://mining.taxnet.co.kr/counsel-ai/v3/api-docs
# ============================================

springdoc.api-docs.path=/v3/api-docs
springdoc.api-docs.url=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui
springdoc.swagger-ui.config-url=/counsel-ai/v3/api-docs/swagger-config
springdoc.swagger-ui.url=/counsel-ai/v3/api-docs
springdoc.swagger-ui.operations-sorter=method
# Swagger UI에서 사용할 서버 URL 설정 (curl 명령어에 사용됨)
springdoc.swagger-ui.server-url=https://mining.taxnet.co.kr/counsel-ai


spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.show_sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.highlight_sql=false
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=off

# ============================================
# 스트리밍 응답 설정 (SSE)
# ============================================
# HTTP 응답 압축 비활성화 (스트리밍 시 버퍼링 방지)
# 압축은 버퍼링을 유발하여 스트리밍이 한번에 나오는 것처럼 보이게 만듭니다.
server.compression.enabled=false
# 세션 타임아웃 설정 (스트리밍은 오래 걸릴 수 있음)
server.servlet.session.timeout=30m

# ============================================
# Redis (docker-compose-server-fix.yml counsel-ai 환경 변수와 일치)
# - 서버(Docker): 앱/Redis가 다른 컨테이너이므로 REDIS_HOST=redis 필수 (localhost 불가)
# - 로컬 개발: 같은 PC에서 Redis 띄울 때만 기본값 localhost 사용
# ============================================
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD}
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0


